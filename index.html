<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Playful Bold Love Game ‚ù§Ô∏è</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0f0a11;           /* deep plum */
      --pink:#ff2e88;         /* bold pink */
      --pink-2:#ff6fb0;       /* soft pink */
      --violet:#8a2be2;       /* neon violet */
      --card:#1a1320;         /* card bg */
      --text:#fff;
      --muted:#c9b9d6;
      --good:#00d38f;
      --warn:#ffd166;

    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:"Poppins",system-ui,Arial,Helvetica,sans-serif;
      background: radial-gradient(1200px 600px at 80% -10%, rgba(255,46,136,.25), transparent 60%),
                  radial-gradient(1000px 500px at -10% 110%, rgba(138,43,226,.25), transparent 60%),
                  var(--bg);
      color:var(--text);
      overflow-x:hidden;
    }
    a{color:var(--pink)}

    /* Layout */
    .container{max-width:1100px;margin:auto;padding:20px}
    header{
      display:flex;align-items:center;justify-content:space-between;gap:12px;
    }
    .logo{
      display:flex;align-items:center;gap:12px; user-select:none;
      text-shadow:0 6px 24px rgba(255,46,136,.45);
    }
    .logo .heart{
      width:42px;height:42px;position:relative;transform:rotate(-12deg);
      filter:drop-shadow(0 0 20px rgba(255,110,176,.45));
    }
    .logo .heart:before,.logo .heart:after{
      content:"";position:absolute;width:20px;height:32px;background:linear-gradient(180deg,var(--pink),var(--pink-2));
      border-radius:20px 20px 0 0;top:6px;
    }
    .logo .heart:before{left:11px;transform:rotate(-45deg);transform-origin:bottom right}
    .logo .heart:after{left:1px;transform:rotate(45deg);transform-origin:bottom left}
    .title{font-weight:800;font-size:clamp(20px,4vw,34px)}

    .card{background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.01));
          border:1px solid rgba(255,255,255,.08);
          border-radius:22px;padding:18px 18px 20px;box-shadow:0 10px 40px rgba(0,0,0,.35)}

    .hero{display:grid;grid-template-columns:1.1fr .9fr;gap:18px;margin-top:18px}
    @media (max-width:900px){.hero{grid-template-columns:1fr}}

    .hero h1{margin:0 0 10px;font-size:clamp(28px,5vw,44px);line-height:1.02}
    .hero p{margin:0;color:var(--muted)}

    .inputs{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:16px}
    .inputs input,.inputs textarea, select{
      width:100%;padding:12px 14px;border-radius:14px;outline:none;border:1px solid rgba(255,255,255,.12);
      background:#120c18;color:var(--text);font-size:14px
    }
    .inputs textarea{min-height:92px;resize:vertical}

    .btn{appearance:none;border:none;padding:12px 16px;border-radius:18px;font-weight:700;
         background:linear-gradient(90deg,var(--pink),var(--violet));color:white;cursor:pointer;
         box-shadow:0 10px 24px rgba(255,46,136,.3);
         transition:transform .06s ease, box-shadow .15s ease;}
    .btn:hover{transform:translateY(-1px);box-shadow:0 14px 28px rgba(255,46,136,.35)}
    .btn.ghost{background:transparent;border:1px dashed rgba(255,255,255,.2)}

    .actions{display:flex;flex-wrap:wrap;gap:10px;margin-top:12px}

    .section{margin-top:18px}
    .section h2{margin:0 0 8px;font-size:22px}
    .grid{display:grid;gap:12px;grid-template-columns:repeat(3,1fr)}
    @media (max-width:900px){.grid{grid-template-columns:1fr}}

    /* Game: Tap the Hearts */
    #tapGame{position:relative;overflow:hidden;height:350px;background:#140e1a;border-radius:18px;border:1px solid rgba(255,255,255,.08)}
    .heart-float{position:absolute;font-size:24px;animation:floatUp linear forwards; user-select:none;}
    @keyframes floatUp{from{transform:translateY(0) scale(.9);opacity:.95} to{transform:translateY(-420px) scale(1.2);opacity:.05}}
    .hud{display:flex;align-items:center;gap:12px;flex-wrap:wrap;margin-bottom:8px;color:var(--muted)}
    .badge{padding:6px 10px;border-radius:32px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.02);font-size:12px}

    /* Game: Love Wheel */
    .wheel-wrap{display:grid;grid-template-columns:1fr;justify-items:center;gap:10px;padding:8px}
    .wheel{width:260px;height:260px;border-radius:50%;border:10px solid #23182e;position:relative;overflow:hidden;box-shadow:0 10px 40px rgba(0,0,0,.4)}
    .slice{position:absolute;inset:0;clip-path:polygon(50% 50%, 0 0, 100% 0);transform-origin:50% 50%}
    .pointer{width:0;height:0;border-left:12px solid transparent;border-right:12px solid transparent;border-top:18px solid var(--warn);margin-top:6px;filter:drop-shadow(0 4px 8px rgba(0,0,0,.4))}

  .quiz{display:grid;gap:8px;color:#ff6fb0;} /* changed font color to soft pink */
  .options{display:grid;gap:8px}
  .opt{padding:10px 12px;border-radius:12px;background:#181222;border:1px solid rgba(255,255,255,.08);cursor:pointer;color:#fff}
  .opt.correct{outline:2px solid var(--good)}
  .opt.wrong{outline:2px solid #ff5c5c}

    /* Message (long-distance letter) */
    .letter{position:relative;padding:16px;border-radius:18px;background:linear-gradient(180deg,#181022,#100a16);border:1px solid rgba(255,255,255,.08)}
    .ribbon{position:absolute;right:10px;top:-10px;background:var(--pink);color:#fff;padding:6px 10px;border-radius:12px;font-size:12px;box-shadow:0 8px 16px rgba(255,46,136,.35)}

    /* Toasts */
    .toast{position:fixed;left:50%;top:24px;transform:translateX(-50%);background:#201629;border:1px solid rgba(255,255,255,.14);
      padding:10px 14px;border-radius:14px;box-shadow:0 10px 30px rgba(0,0,0,.35);display:none;z-index:10}

    /* Footer */
    footer{margin:32px 0 12px;color:var(--muted);text-align:center;font-size:12px}

    /* Floating hearts background (subtle) */
    .bg-hearts{position:fixed;inset:0;pointer-events:none;opacity:.25}
    .bg-hearts span{position:absolute;animation:rise linear infinite;filter:blur(0.4px)}
    @keyframes rise{from{transform:translateY(20vh) scale(.8);} to{transform:translateY(-100vh) scale(1.2);}}
  </style>
</head>
<body>
  <div class="bg-hearts" id="bgHearts"></div>
  <div class="toast" id="toast">Saved!</div>
  <div class="container">
    <header>
      <div class="logo">
        <div class="heart"></div>
        <div class="title">Bold Love Lab</div>
      </div>
      <button class="btn ghost" id="saveBtn" title="Save names & message">üíæ Save</button>
    </header>

    <section class="hero">
      <div class="card">
        <h1>Hey <span id="bfNameHead">Love</span>, ready to play? üéÆüíò</h1>
        <p>A tiny playground of dares, taps, and wheel-of-love spins. Built so we can be goofy even when we're miles apart.</p>
        <div class="inputs">
          <input id="yourName" placeholder="Your name"/>
          <input id="bfName" placeholder="Boyfriend's name"/>
          <textarea id="customMsg" placeholder="Write a short message for him‚Ä¶ (shows in the love letter)"></textarea>
          <select id="mode">
            <option value="normal">Normal mode</option>
            <option value="longdistance">Long distance mode</option>
          </select>
        </div>
        <div class="actions">
          <button class="btn" id="startTap">‚ñ∂Ô∏è Tap the Hearts (30s)</button>
          <button class="btn" id="spinWheel">üéØ Spin Love Wheel</button>
          <button class="btn" id="startQuiz">üß† Mini Love Quiz</button>
          <button class="btn ghost" id="openLetter">üíå Open Love Letter</button>
          <a class="btn ghost" id="waShare" href="#" target="_blank" rel="noopener">üîó Share on WhatsApp</a>
        </div>
        <div class="hud" style="margin-top:12px">
          <span class="badge">Score: <b id="score">0</b></span>
          <span class="badge">Best: <b id="best">0</b></span>
          <span class="badge">Timer: <b id="timer">‚Äî</b></span>
        </div>
      </div>

      <div class="card section">
        <h2>Tap the Hearts</h2>
        <div id="tapGame"></div>
      </div>
    </section>

    <section class="section">
      <div class="grid">
        <div class="card">
          <h2>üéØ Love Wheel</h2>
          <div class="wheel-wrap">
            <div class="wheel" id="wheel"></div>
            <div class="pointer"></div>
            <button class="btn" id="wheelBtn">Spin</button>
            <div id="wheelResult" class="hud" style="justify-content:center"></div>
          </div>
        </div>
        <div class="card">
          <h2>üß† Mini Love Quiz</h2>
          <div class="quiz" id="quiz"></div>
          <div class="actions">
            <button class="btn" id="quizNext">Next</button>
            <button class="btn ghost" id="quizReset">Reset</button>
          </div>
        </div>
        <div class="card">
          <h2>üíå Long‚ÄëDistance Letter</h2>
          <div class="letter">
            <div class="ribbon">From <span id="fromName">You</span></div>
            <p id="letterText" style="white-space:pre-wrap;line-height:1.6;margin-top:0"></p>
          </div>
          <div class="actions">
            <button class="btn" id="refreshLetter">Refresh Letter</button>
          </div>
        </div>
      </div>
    </section>

    <footer>Made with ‚ù§Ô∏è to make distance feel smaller.</footer>
  </div>

  <script>
    // ---------- Utilities ----------
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));
    const rand = (min,max) => Math.random()*(max-min)+min;

    function toast(msg){
      const t = $('#toast');
      t.textContent=msg; t.style.display='block';
      clearTimeout(t._h); t._h=setTimeout(()=>t.style.display='none', 1500);
    }

    // ---------- Persisted state ----------
    const store={
      get(){
        try{return JSON.parse(localStorage.getItem('loveGame')||'{}')}catch(e){return{}}
      },
      set(data){localStorage.setItem('loveGame', JSON.stringify(data))}
    }

    function updateNamesUI(){
      const s=store.get();
      $('#yourName').value=s.yourName||'';
      $('#bfName').value=s.bfName||'';
      $('#customMsg').value=s.msg||'';
      $('#mode').value=s.mode||'normal';
      $('#bfNameHead').textContent=s.bfName?.trim()||'Love';
      $('#fromName').textContent=s.yourName?.trim()||'You';
      $('#best').textContent=s.best||0;
      $('#waShare').href = makeWAUrl();
      $('#letterText').textContent = buildLetterText();
    }

    function save(){
      const s=store.get();
      const data={...s,
        yourName:$('#yourName').value.trim(),
        bfName:$('#bfName').value.trim(),
        msg:$('#customMsg').value.trim(),
        mode:$('#mode').value
      };
      store.set(data); updateNamesUI(); toast('Saved!');
    }

    $('#saveBtn').addEventListener('click', save);
    ['yourName','bfName','customMsg','mode'].forEach(id=>{
      $('#'+id).addEventListener('change', save);
    });

    // ---------- Floating hearts background ----------
    (function bg(){
      const wrap = $('#bgHearts');
      const EMOJIS = ['üíñ','üíó','üíì','üíò','üíù'];
      for(let i=0;i<24;i++){
        const s=document.createElement('span');
        s.textContent = EMOJIS[Math.floor(Math.random()*EMOJIS.length)];
        s.style.left = rand(-5,100)+"%";
        const dur = rand(14,32);
        s.style.animationDuration = dur+"s";
        s.style.fontSize = rand(16,30)+'px';
        s.style.opacity = rand(.15,.42);
        wrap.appendChild(s);
      }
    })();

    // ---------- Tap the Hearts Game ----------
    let tapScore=0, best=Number(store.get().best)||0, timer=null, timeLeft=0, running=false;

    function spawnHeart(){
      const box = $('#tapGame');
      const h=document.createElement('div');
      h.className='heart-float';
      const emojis=['üíñ','üíó','üíò','üíû','üíì','üíü'];
      h.textContent = emojis[Math.floor(Math.random()*emojis.length)];
      h.style.left = rand(0, box.clientWidth-24)+'px';
      h.style.bottom = '-20px';
      const dur = rand(2.2, 4.5);
      h.style.animationDuration = dur+'s';
      h.addEventListener('click',()=>{
        if(!running) return;
        tapScore++;
        $('#score').textContent=tapScore;
        h.remove();
        pulseBadge('#score');
        if(tapScore%10===0) confetti();
      }, {once:true});
      box.appendChild(h);
      setTimeout(()=>h.remove(), dur*1000);
    }

    function pulseBadge(sel){
      const el=$(sel)?.closest('.badge') || $(sel);
      if(!el) return;
      el.animate([{transform:'scale(1)'},{transform:'scale(1.12)'},{transform:'scale(1)'}],{duration:200});
    }

    function startTap(){
      if(running) return;
      tapScore=0; $('#score').textContent=0; timeLeft=30; $('#timer').textContent=timeLeft;
      running=true; $('#tapGame').innerHTML='';
      const spawner = setInterval(spawnHeart, 300);
      timer = setInterval(()=>{
        timeLeft--; $('#timer').textContent=timeLeft; if(timeLeft<=0){
          clearInterval(timer); clearInterval(spawner); running=false; $('#timer').textContent='‚Äî';
          if(tapScore>best){best=tapScore; $('#best').textContent=best; const s=store.get(); s.best=best; store.set(s); toast('New best!')}
        }
      },1000);
    }

    $('#startTap').addEventListener('click', startTap);

    // confetti (tiny)
    function confetti(){
      const box = document.body;
      for(let i=0;i<18;i++){
        const p=document.createElement('div');
        p.style.position='fixed';p.style.left=rand(5,95)+'%';p.style.top='-10px';
        p.style.width=p.style.height=rand(4,8)+'px';
        p.style.background=['#fff','#ff2e88','#8a2be2','#ffd166','#00d38f'][Math.floor(rand(0,5))];
        p.style.transform=`rotate(${rand(0,360)}deg)`;p.style.opacity=.9;p.style.zIndex=9;
        box.appendChild(p);
        const dy=rand(70,92);
        p.animate([{transform:`translateY(0) rotate(0deg)`},{transform:`translateY(${dy}vh) rotate(${rand(120,520)}deg)`}],{duration:rand(1200,1900),easing:'cubic-bezier(.2,.8,.2,1)'}).onfinish=()=>p.remove();
      }
    }

    // ---------- Love Wheel ----------
    const wheelOptions = [
      'Voice note saying 3 things you love about me',
      'Choose our next movie night üé¨',
      'Truth: your latest silly thought about us',
      'Dare: 10 selfie expressions üòú',
      'Plan a mini virtual date',
      'I owe you a big hug coupon',
      'Send your favorite song right now üé∂',
      'Text me the cutest nickname',
    ];

    function renderWheel(){
      const w=$('#wheel'); w.innerHTML='';
      const n=wheelOptions.length;
      for(let i=0;i<n;i++){
        const s=document.createElement('div'); s.className='slice';
        const ang=i*360/n; const hue=i*360/n;
        s.style.background=`conic-gradient(from ${ang}deg at 50% 50%, hsla(${hue},88%,58%,.9) 0 45deg, hsla(${(hue+25)%360},88%,40%,.9) 45deg 90deg)`;
        s.style.transform=`rotate(${ang}deg)`;
        const label=document.createElement('div');
        label.style.position='absolute'; label.style.left='50%'; label.style.top='8%'; label.style.width='44%'; label.style.transform=`rotate(${90/n}deg)`;
        label.style.transformOrigin='0 0'; label.style.fontSize='12px'; label.style.fontWeight='700'; label.style.color='#fff'; label.style.textShadow='0 2px 6px rgba(0,0,0,.4)';
        label.style.textAlign='center'; label.style.userSelect='none';
        label.textContent=wheelOptions[i];
        s.appendChild(label); w.appendChild(s);
      }
    }

    let spinning=false, wheelAngle=0;
    function spin(){
      if(spinning) return; spinning=true;
      const turns = Math.floor(rand(4,7));
      const n=wheelOptions.length; const pick = Math.floor(rand(0,n));
      const sliceAngle = 360/n; const targetAngle = (360 - (pick*sliceAngle + sliceAngle/2));
      const to = turns*360 + targetAngle;
      const w=$('#wheel');
      w.animate([{transform:`rotate(${wheelAngle}deg)`},{transform:`rotate(${wheelAngle+to}deg)`}],{duration:2200,easing:'cubic-bezier(.17,.84,.27,1)'}).onfinish=()=>{
        wheelAngle=(wheelAngle+to)%360; spinning=false;
        const text = wheelOptions[pick];
        $('#wheelResult').textContent='Result: '+text;
        toast('Wheel says: '+text);
      };
    }

    $('#wheelBtn').addEventListener('click', spin);
    $('#spinWheel').addEventListener('click', ()=>{
      document.getElementById('wheelBtn').focus(); spin();
      pulseBadge('#wheelBtn');
    });

    // ---------- Quiz ----------
    const quizData=[
      {
        q:"Pick a perfect cozy date:",
        options:["Cooking together","Movie marathon","Late-night walk","Gaming co-op"], a:1
      },
      {
        q:"Your love-language right now?",
        options:["Words","Hugs","Quality Time","Memes"], a:2
      },
      {
        q:"Dream getaway vibe:",
        options:["Beach","Mountains","City lights","Home fort"], a:3
      }
    ];

    let qi=0, quizScore=0;
    function renderQuiz(){
      const wrap=$('#quiz'); wrap.innerHTML='';
      const item=quizData[qi];
      const h=document.createElement('div'); h.textContent=item.q; h.style.fontWeight='700';
      wrap.appendChild(h);
      const opts=document.createElement('div'); opts.className='options';
      item.options.forEach((txt,idx)=>{
        const o=document.createElement('button'); o.className='opt'; o.textContent=txt;
        o.addEventListener('click',()=>{
          if(o._done) return; o._done=true;
          if(idx===item.a){ o.classList.add('correct'); quizScore++; }
          else { o.classList.add('wrong'); }
          $$('.opt',wrap).forEach(b=>b.disabled=true);
        });
        opts.appendChild(o);
      });
      wrap.appendChild(opts);
      $('#quizNext').textContent = qi<quizData.length-1 ? 'Next' : 'Finish';
    }

    function nextQuiz(){
      if(qi<quizData.length-1){ qi++; renderQuiz(); }
      else {
        toast('Quiz done! +' + quizScore + ' points');
        tapScore += quizScore; $('#score').textContent=tapScore; quizScore=0; qi=0; renderQuiz();
      }
    }

    function resetQuiz(){ qi=0; quizScore=0; renderQuiz(); }

    $('#quizNext').addEventListener('click', nextQuiz);
    $('#quizReset').addEventListener('click', resetQuiz);
    $('#startQuiz').addEventListener('click', ()=>{qi=0; quizScore=0; renderQuiz();});

    // ---------- Long‚Äëdistance letter ----------
    function buildLetterText(){
      const s=store.get();
      const you = s.yourName?.trim() || 'Me';
      const him = s.bfName?.trim() || 'Love';
      const msg = s.msg || '';
      const long = s.mode==='longdistance';
      const para1 = `Hi ${him},\n\nI know we're apart right now, but I keep you in my pocket ‚Äî in every song, every late-night thought, and every silly smile.`;
      const para2 = long
        ? `Distance is loud sometimes, but we are louder. I am rooting for us in every timezone. When it feels heavy, remember: it's you and me vs. the miles ‚Äî and love is on our side.`
        : `Even when we're busy, we still fit. You're my soft place to land, and I can't wait to make more tiny moments feel huge.`;
      const para3 = msg ? `\n\nA note just for you: ${msg}` : '';
      const close = `\n\nAlways yours,\n${you} üíå`;
      return para1+"\n\n"+para2+para3+close;
    }

    function refreshLetter(){ $('#letterText').textContent = buildLetterText(); }

    $('#refreshLetter').addEventListener('click', refreshLetter);
    $('#openLetter').addEventListener('click', ()=>{
      refreshLetter(); document.querySelector('.letter').scrollIntoView({behavior:'smooth'});
      pulseBadge('#refreshLetter');
    });

    // ---------- WhatsApp share ----------
    function makeWAUrl(){
      const s=store.get();
      const text = `Hey ${s.bfName||'love'}! I made you a tiny love game site so we can play even when we are apart. Open this message and read the letter: %0A%0A${encodeURIComponent(buildLetterText())}`;
      return `https://wa.me/?text=${text}`;
    }
    $('#waShare').addEventListener('click',()=>{ save(); $('#waShare').href = makeWAUrl(); });

    // ---------- Init ----------
    renderWheel();
    renderQuiz();
    updateNamesUI();
  </script>
</body>
</html>
